@use '../base/functions' as *;

.post-modal-overlay {
    position: fixed;
    inset: 0;
    cursor: pointer;
    pointer-events: none;
    z-index: 10;

    transition: background-color 0.6s;

    &.overlay-on {
        background-color: rgba(0, 0, 0, 0.65);
        pointer-events: auto;
    }

    >.modal-container {
        position: fixed;

        width: 90vw;

        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);

        background-color: rgb(255, 255, 255);
        border-radius: 11px;
        box-shadow:
            1px 1px 5px 0px rgba(0, 0, 0, 0.1);

        z-index: 30;

        transition: width 500ms, top 500ms;

        cursor: auto;

        >.modal {

            >.post-container {
                width: 100%;

                height: 500px;

                >.post-image {

                    // margin: auto;
                    background-color: hsl(0, 0%, 86%);
                    border-top-left-radius: 11px;
                    border-bottom-left-radius: 11px;

                    min-height: 100%;
                    max-height: 100%;

                    overflow: hidden;

                    >img {
                        display: block;
                        margin: auto;
                        object-fit: cover;
                        // min-width: 100%;
                        max-width: 100%;
                        // max-width: clamp(60%, 10vw, 100%);
                        min-height: clamp(50%, 10vw, 100%);
                        max-height: 100%;
                        aspect-ratio: 1/1;
                    }
                }

                >.post-details {
                    height: 100%;
                    width: 100%;

                    .user-details,
                    .post-caption-container,
                    .comment-container {

                        >.header {
                            padding-block: 0.6em;
                            padding-inline: 0.6em;

                            border-block-end: 1px solid hsl(0, 0%, 92%);

                            >* {
                                margin-inline-end: 0.25em;
                            }

                            >.user-image {
                                margin-inline-end: 0.75em;
                                width: 36px;
                                height: 36px;
                                border-radius: 999px;
                                background: linear-gradient(230deg,
                                        hsl(326, 57%, 48%),
                                        hsl(291, 63%, 46%),
                                        hsl(340, 75%, 54%),
                                        hsl(340, 75%, 54%),
                                        hsl(20, 92%, 59%),
                                        hsl(20, 92%, 59%),
                                        hsl(39, 96%, 50%),
                                        hsl(39, 96%, 80%),
                                        hsl(39, 96%, 90%));

                                >img {
                                    width: 32.5px;
                                    height: 32.5px;
                                    border-radius: 999px;

                                    border: 2.5px solid white;
                                }

                            }

                            >.header-details-container {

                                >.header-details {

                                    * {
                                        margin-inline-end: 0.35em;
                                        font-size: em(14px);
                                    }

                                    span {
                                        color: grey;
                                    }

                                    .user-name {
                                        font-weight: 600;
                                    }

                                    .created-at {
                                        color: hsl(0, 0%, 50%);
                                    }
                                }

                                .location {
                                    font-size: em(12px);

                                }

                            }
                        }

                    }

                    >.post-body {

                        overflow: scroll;
                        scrollbar-width: none;
                        scroll-behavior: smooth;
                        height: calc(350px - 56px);

                        >.post-caption-container {

                            >.header {
                                border: none;

                                >.header-details-container {

                                    >.caption {
                                        white-space: pre-line;
                                        font-size: em(14px);
                                        font-weight: 400;
                                    }
                                }
                            }
                        }

                        >.comment-container {

                            >.header {
                                border: none;

                                >.user-image {
                                    background: white;
                                }

                                >.header-details-container {

                                    >.header-contents {
                                        padding-block-start: 0.5em;

                                        >.created-at {
                                            font-size: em(12px);
                                            color: hsl(0, 0%, 50%);
                                        }

                                        >.likes {
                                            margin-inline-start: 1em;

                                            font-size: em(12px);
                                            font-weight: 500;
                                            color: hsl(0, 0%, 50%);
                                        }
                                    }
                                }
                            }
                        }
                    }

                    >.buttons {
                        padding: 0.75em;

                        border-block-start: 1px solid hsl(0, 0%, 86%);

                        .comment,
                        .share {
                            margin-inline-start: 1em;
                        }
                    }

                    >.likes {
                        padding-inline-start: 1em;

                        font-weight: 600;
                        font-size: em(14px);
                    }

                    >.created-at {
                        padding-inline-start: 1.2em;
                        padding-block-start: 0.25em;
                        padding-block-end: 1em;

                        font-size: em(12px);
                        color: hsl(0, 0%, 50%);
                    }

                    >.add-comment-container {
                        border-block-start: 1px solid hsl(0, 0%, 86%);

                        padding-block-start: 0.5em;
                        padding-inline-start: 1em;

                        min-width: 100%;

                        >input {

                            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                            font-size: em(14px);
                            border: none;
                            outline: none;
                        }

                        >button {
                            background-color: white;
                            color: hsl(204, 100%, 48%);

                            font-size: em(14px);
                            font-weight: 600;

                            opacity: 0.5;

                            cursor: pointer;

                            transition: opacity 100ms;

                            &.full {
                                opacity: 1;
                            }

                            &:hover {
                                border: none;
                                color: black;
                            }

                            &:active {
                                box-shadow: none;
                                opacity: 0.5;
                            }
                        }
                    }

                }
            }
        }
    }
}